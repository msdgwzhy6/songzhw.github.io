---
layout: post
category : Android
tagline: "and-struture"
tags : [and-structure]
---

##

## The Difficulties in the Android app
- the annoying boilerplate code, such as findViewById(), setOnClickListener() ...
- God class : Activity
- Android do not hava a clean MVC framework
- Multi thread handling is complex
- (Java) file stream, try-catch, no block, no first-class function, no AOP ...


## Problem 1 : boilerplate

A typical Activity class is like this:
{% highlight java %}
public class HomeActivity extends RootActivity implements OnClickListener{
	private ImageView ivHead;
	private ImageView ivSetting;
	private TextView tvUserName;
	private ImageButton ibGo;
	private Button btnCancel;
	private Button btnCamera;
	private Button btnAlbum;
	private Button btnBack;

	protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        this.requestWindowFeature(Window.FEATURE_NO_TITLE);
        setContentView(R.layout.activity_home);

        ibGo = (ImageButton)findViewById(R.id.btn_card);
        ibGo.setOnClickListener(this);
        TextView tvCardCount=(TextView)findViewById(R.id.tv_card_count);
        // ...
    }


    @Override
    public void onClick(View v) {
        // TODO Auto-generated method stub
        if (v == ibGo&&LoginUtil.isLogin()) {
            // ...
        } else if (v == btnCancel&&LoginUtil.isLogin()) {
            // ...
        } else if (v == btnCamera&&LoginUtil.isLogin()) {
            // ...
        } else if (v == btnAlbum) {
            // ...
        }
    }
}
{% endhighlight %}







{% highlight java %}

{% endhighlight %}
